"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1698],{1698:(v,d,a)=>{a.r(d),a.d(d,{VistaEstPageModule:()=>x});var r=a(6814),u=a(95),s=a(6761),l=a(9599),t=a(6689),f=a(8537),p=a(1266);function h(o,e){if(1&o&&(t.TgZ(0,"p",11),t._uU(1),t.qZA()),2&o){const A=t.oxw().$implicit;t.xp6(1),t.hij(" Propietario : ",A.email," ")}}function m(o,e){1&o&&(t.TgZ(0,"h1",12),t._uU(1," Disponible "),t._UZ(2,"img",13),t.qZA())}function _(o,e){1&o&&(t.TgZ(0,"h1",12),t._uU(1," No disponible "),t._UZ(2,"img",14),t.qZA())}function b(o,e){1&o&&(t.TgZ(0,"h2",15),t._uU(1," Preferencial "),t._UZ(2,"ion-icon",16),t.qZA())}function E(o,e){if(1&o){const A=t.EpF();t.TgZ(0,"ion-col",17)(1,"ion-buttons")(2,"ion-button",18),t.NdJ("click",function(){t.CHM(A);const c=t.oxw().$implicit,n=t.oxw();return t.KtG(n.resetEst(c.id))}),t._UZ(3,"ion-icon",19),t.qZA()()()}}function P(o,e){if(1&o&&(t.TgZ(0,"ion-card",4)(1,"ion-card-header")(2,"ion-card-title")(3,"h1",5),t._uU(4),t.qZA(),t.YNc(5,h,2,1,"p",6),t.qZA()(),t.TgZ(6,"ion-card-content"),t.YNc(7,m,3,0,"h1",7),t.YNc(8,_,3,0,"h1",7),t.TgZ(9,"ion-row")(10,"ion-col",8),t.YNc(11,b,3,0,"h2",9),t.qZA(),t.YNc(12,E,4,0,"ion-col",10),t.qZA()()()),2&o){const A=e.$implicit,i=e.index;t.xp6(4),t.hij("Estacionamiento #",i+1,""),t.xp6(1),t.Q6J("ngIf",0==A.disponible),t.xp6(2),t.Q6J("ngIf",1==A.disponible),t.xp6(1),t.Q6J("ngIf",0==A.disponible),t.xp6(3),t.Q6J("ngIf",1==A.tipo),t.xp6(1),t.Q6J("ngIf",0==A.disponible)}}const V=[{path:"",component:(()=>{var o;class e{constructor(i,c,n){this.router=i,this.fireService=c,this.fireUsuarios=n,this.data=[],this.disponibles=[],this.contador=0}ngOnInit(){this.fireService.obtenerDoc().subscribe(i=>{console.log("doc",i),this.data=i})}obtenerDisponibles(){this.fireService.obtenerDoc().subscribe(i=>{console.log(i),this.disponibles=i.filter(c=>!0===c.disponible),console.log(this.disponibles)})}resetEst(i){console.log("ejecutando"),this.fireUsuarios.obtenerDoc().subscribe(c=>{const n=c.find(g=>g.id_est===i);console.log("UE",n),n?(console.log("ejecutando 2"),console.log("datosUE",n),this.fireUsuarios.updateDoc(n.id,{id_est:"",nro_est:0}),this.fireService.updateDoc(i,{disponible:!0,email:"",patente:""}),this.fireService.createDocRegHistoricoEstSalida({nro_est:n.nro_est,hora:new Date,usuario:n.email}),console.log("Estacionamiento reseteado con \xe9xito"),setTimeout(()=>{location.reload()},1300)):console.log("No se encontraron datos para el usuario estacionado.")})}goScanner(){this.router.navigate(["/scanner"])}}return(o=e).\u0275fac=function(i){return new(i||o)(t.Y36(l.F0),t.Y36(f.C),t.Y36(p.E))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-vista-est"]],decls:4,vars:3,consts:[[3,"translucent"],["src","../../../assets/estduoc.png",2,"height","100px","width","200px","margin","0 auto"],[3,"fullscreen"],["style","background-color: #012c56",4,"ngFor","ngForOf"],[2,"background-color","#012c56"],[2,"color","white"],["style","color: white; font-size: medium",4,"ngIf"],["style","font-size: small",4,"ngIf"],["size","9"],["style","margin-top: 5%",4,"ngIf"],["size","3",4,"ngIf"],[2,"color","white","font-size","medium"],[2,"font-size","small"],["sty","","alt","Silhouette of mountains","src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACoCAMAAABt9SM9AAAAA1BMVEVl/wB6QsljAAAAR0lEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO8GxYgAAb0jQ/cAAAAASUVORK5CYII=",1,"disponible"],["alt","No disponible","src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACoCAMAAABt9SM9AAAAA1BMVEX/AAAZ4gk3AAAAR0lEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO8GxYgAAb0jQ/cAAAAASUVORK5CYII=",1,"no-disponible"],[2,"margin-top","5%"],["name","accessibility"],["size","3"],[2,"width","300px",3,"click"],["name","trash-bin-outline"]],template:function(i,c){1&i&&(t.TgZ(0,"ion-header",0),t._UZ(1,"ion-img",1),t.qZA(),t.TgZ(2,"ion-content",2),t.YNc(3,P,13,6,"ion-card",3),t.qZA()),2&i&&(t.Q6J("translucent",!0),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngForOf",c.data))},dependencies:[r.sg,r.O5,s.YG,s.Sm,s.PM,s.FN,s.Zi,s.Dq,s.wI,s.W2,s.Gu,s.gu,s.Xz,s.Nd],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--ion-background-color:#ffffff}.disponible[_ngcontent-%COMP%], .no-disponible[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}  ion-card{background-color:#666;color:#fff}  ion-header{background-color:#012c56}']}),e})()}];let Z=(()=>{var o;class e{}return(o=e).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(V),l.Bz]}),e})(),x=(()=>{var o;class e{}return(o=e).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[r.ez,u.u5,s.Pc,Z]}),e})()}}]);